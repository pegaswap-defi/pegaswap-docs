{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Desktop/juiceswap/juiceswap-docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/macbook/Desktop/juiceswap/juiceswap-docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/macbook/Desktop/juiceswap/juiceswap-docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/macbook/Desktop/juiceswap/juiceswap-docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{createContext,useContext,useReducer,useMemo,useCallback,useEffect}from'react';var UNISWAP='UNISWAP';var VERSION='VERSION';var CURRENT_VERSION=0;var LAST_SAVED='LAST_SAVED';var DISMISSED_PATHS='DISMISSED_PATHS';var SAVED_ACCOUNTS='SAVED_ACCOUNTS';var SAVED_TOKENS='SAVED_TOKENS';var SAVED_PAIRS='SAVED_PAIRS';var DARK_MODE='DARK_MODE';var UPDATABLE_KEYS=[DARK_MODE,DISMISSED_PATHS,SAVED_ACCOUNTS,SAVED_PAIRS,SAVED_TOKENS];var UPDATE_KEY='UPDATE_KEY';var LocalStorageContext=createContext();function useLocalStorageContext(){return useContext(LocalStorageContext);}function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case UPDATE_KEY:{var key=payload.key,value=payload.value;if(!UPDATABLE_KEYS.some(function(k){return k===key;})){throw Error(\"Unexpected key in LocalStorageContext reducer: '\".concat(key,\"'.\"));}else{return _objectSpread(_objectSpread({},state),{},_defineProperty({},key,value));}}default:{throw Error(\"Unexpected action type in LocalStorageContext reducer: '\".concat(type,\"'.\"));}}}function init(){var _defaultLocalStorage;var defaultLocalStorage=(_defaultLocalStorage={},_defineProperty(_defaultLocalStorage,VERSION,CURRENT_VERSION),_defineProperty(_defaultLocalStorage,DARK_MODE,true),_defineProperty(_defaultLocalStorage,DISMISSED_PATHS,{}),_defineProperty(_defaultLocalStorage,SAVED_ACCOUNTS,[]),_defineProperty(_defaultLocalStorage,SAVED_TOKENS,{}),_defineProperty(_defaultLocalStorage,SAVED_PAIRS,{}),_defaultLocalStorage);try{var parsed=JSON.parse(window.localStorage.getItem(UNISWAP));if(parsed[VERSION]!==CURRENT_VERSION){// this is where we could run migration logic\nreturn defaultLocalStorage;}else{return _objectSpread(_objectSpread({},defaultLocalStorage),parsed);}}catch(_unused){return defaultLocalStorage;}}export default function Provider(_ref2){var children=_ref2.children;var _useReducer=useReducer(reducer,undefined,init),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var updateKey=useCallback(function(key,value){dispatch({type:UPDATE_KEY,payload:{key:key,value:value}});},[]);return/*#__PURE__*/React.createElement(LocalStorageContext.Provider,{value:useMemo(function(){return[state,{updateKey:updateKey}];},[state,updateKey])},children);}export function Updater(){var _useLocalStorageConte=useLocalStorageContext(),_useLocalStorageConte2=_slicedToArray(_useLocalStorageConte,1),state=_useLocalStorageConte2[0];useEffect(function(){window.localStorage.setItem(UNISWAP,JSON.stringify(_objectSpread(_objectSpread({},state),{},_defineProperty({},LAST_SAVED,Math.floor(Date.now()/1000)))));});return null;}export function useDarkModeManager(){var _useLocalStorageConte3=useLocalStorageContext(),_useLocalStorageConte4=_slicedToArray(_useLocalStorageConte3,2),state=_useLocalStorageConte4[0],updateKey=_useLocalStorageConte4[1].updateKey;var isDarkMode=state[DARK_MODE];var toggleDarkMode=useCallback(function(value){updateKey(DARK_MODE,value===false||value===true?value:!isDarkMode);},[updateKey,isDarkMode]);return[isDarkMode,toggleDarkMode];}export function usePathDismissed(path){var _state$DISMISSED_PATH;var _useLocalStorageConte5=useLocalStorageContext(),_useLocalStorageConte6=_slicedToArray(_useLocalStorageConte5,2),state=_useLocalStorageConte6[0],updateKey=_useLocalStorageConte6[1].updateKey;var pathDismissed=state===null||state===void 0?void 0:(_state$DISMISSED_PATH=state[DISMISSED_PATHS])===null||_state$DISMISSED_PATH===void 0?void 0:_state$DISMISSED_PATH[path];function dismiss(){var newPaths=state===null||state===void 0?void 0:state[DISMISSED_PATHS];newPaths[path]=true;updateKey(DISMISSED_PATHS,newPaths);}return[pathDismissed,dismiss];}export function useSavedAccounts(){var _useLocalStorageConte7=useLocalStorageContext(),_useLocalStorageConte8=_slicedToArray(_useLocalStorageConte7,2),state=_useLocalStorageConte8[0],updateKey=_useLocalStorageConte8[1].updateKey;var savedAccounts=state===null||state===void 0?void 0:state[SAVED_ACCOUNTS];var addAccount=useCallback(function(account){updateKey(SAVED_ACCOUNTS,[].concat(_toConsumableArray(savedAccounts!==null&&savedAccounts!==void 0?savedAccounts:[]),[account]));},[savedAccounts,updateKey]);var removeAccount=useCallback(function(account){var _savedAccounts$indexO;var index=(_savedAccounts$indexO=savedAccounts===null||savedAccounts===void 0?void 0:savedAccounts.indexOf(account))!==null&&_savedAccounts$indexO!==void 0?_savedAccounts$indexO:-1;if(index>-1){updateKey(SAVED_ACCOUNTS,[].concat(_toConsumableArray(savedAccounts.slice(0,index)),_toConsumableArray(savedAccounts.slice(index+1,savedAccounts.length))));}},[savedAccounts,updateKey]);return[savedAccounts,addAccount,removeAccount];}export function useSavedPairs(){var _useLocalStorageConte9=useLocalStorageContext(),_useLocalStorageConte10=_slicedToArray(_useLocalStorageConte9,2),state=_useLocalStorageConte10[0],updateKey=_useLocalStorageConte10[1].updateKey;var savedPairs=state===null||state===void 0?void 0:state[SAVED_PAIRS];function addPair(address,token0Address,token1Address,token0Symbol,token1Symbol){var newList=state===null||state===void 0?void 0:state[SAVED_PAIRS];newList[address]={address:address,token0Address:token0Address,token1Address:token1Address,token0Symbol:token0Symbol,token1Symbol:token1Symbol};updateKey(SAVED_PAIRS,newList);}function removePair(address){var newList=state===null||state===void 0?void 0:state[SAVED_PAIRS];newList[address]=null;updateKey(SAVED_PAIRS,newList);}return[savedPairs,addPair,removePair];}export function useSavedTokens(){var _useLocalStorageConte11=useLocalStorageContext(),_useLocalStorageConte12=_slicedToArray(_useLocalStorageConte11,2),state=_useLocalStorageConte12[0],updateKey=_useLocalStorageConte12[1].updateKey;var savedTokens=state===null||state===void 0?void 0:state[SAVED_TOKENS];function addToken(address,symbol){var newList=state===null||state===void 0?void 0:state[SAVED_TOKENS];newList[address]={symbol:symbol};updateKey(SAVED_TOKENS,newList);}function removeToken(address){var newList=state===null||state===void 0?void 0:state[SAVED_TOKENS];newList[address]=null;updateKey(SAVED_TOKENS,newList);}return[savedTokens,addToken,removeToken];}","map":{"version":3,"sources":["/Users/macbook/Desktop/juiceswap/juiceswap-docs/src/contexts/LocalStorage.js"],"names":["React","createContext","useContext","useReducer","useMemo","useCallback","useEffect","UNISWAP","VERSION","CURRENT_VERSION","LAST_SAVED","DISMISSED_PATHS","SAVED_ACCOUNTS","SAVED_TOKENS","SAVED_PAIRS","DARK_MODE","UPDATABLE_KEYS","UPDATE_KEY","LocalStorageContext","useLocalStorageContext","reducer","state","type","payload","key","value","some","k","Error","init","defaultLocalStorage","parsed","JSON","parse","window","localStorage","getItem","Provider","children","undefined","dispatch","updateKey","Updater","setItem","stringify","Math","floor","Date","now","useDarkModeManager","isDarkMode","toggleDarkMode","usePathDismissed","path","pathDismissed","dismiss","newPaths","useSavedAccounts","savedAccounts","addAccount","account","removeAccount","index","indexOf","slice","length","useSavedPairs","savedPairs","addPair","address","token0Address","token1Address","token0Symbol","token1Symbol","newList","removePair","useSavedTokens","savedTokens","addToken","symbol","removeToken"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\n\nconst UNISWAP = 'UNISWAP'\n\nconst VERSION = 'VERSION'\nconst CURRENT_VERSION = 0\nconst LAST_SAVED = 'LAST_SAVED'\nconst DISMISSED_PATHS = 'DISMISSED_PATHS'\nconst SAVED_ACCOUNTS = 'SAVED_ACCOUNTS'\nconst SAVED_TOKENS = 'SAVED_TOKENS'\nconst SAVED_PAIRS = 'SAVED_PAIRS'\n\nconst DARK_MODE = 'DARK_MODE'\n\nconst UPDATABLE_KEYS = [DARK_MODE, DISMISSED_PATHS, SAVED_ACCOUNTS, SAVED_PAIRS, SAVED_TOKENS]\n\nconst UPDATE_KEY = 'UPDATE_KEY'\n\nconst LocalStorageContext = createContext()\n\nfunction useLocalStorageContext() {\n  return useContext(LocalStorageContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_KEY: {\n      const { key, value } = payload\n      if (!UPDATABLE_KEYS.some((k) => k === key)) {\n        throw Error(`Unexpected key in LocalStorageContext reducer: '${key}'.`)\n      } else {\n        return {\n          ...state,\n          [key]: value,\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in LocalStorageContext reducer: '${type}'.`)\n    }\n  }\n}\n\nfunction init() {\n  const defaultLocalStorage = {\n    [VERSION]: CURRENT_VERSION,\n    [DARK_MODE]: true,\n    [DISMISSED_PATHS]: {},\n    [SAVED_ACCOUNTS]: [],\n    [SAVED_TOKENS]: {},\n    [SAVED_PAIRS]: {},\n  }\n\n  try {\n    const parsed = JSON.parse(window.localStorage.getItem(UNISWAP))\n    if (parsed[VERSION] !== CURRENT_VERSION) {\n      // this is where we could run migration logic\n      return defaultLocalStorage\n    } else {\n      return { ...defaultLocalStorage, ...parsed }\n    }\n  } catch {\n    return defaultLocalStorage\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, undefined, init)\n\n  const updateKey = useCallback((key, value) => {\n    dispatch({ type: UPDATE_KEY, payload: { key, value } })\n  }, [])\n\n  return (\n    <LocalStorageContext.Provider value={useMemo(() => [state, { updateKey }], [state, updateKey])}>\n      {children}\n    </LocalStorageContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const [state] = useLocalStorageContext()\n\n  useEffect(() => {\n    window.localStorage.setItem(UNISWAP, JSON.stringify({ ...state, [LAST_SAVED]: Math.floor(Date.now() / 1000) }))\n  })\n\n  return null\n}\n\nexport function useDarkModeManager() {\n  const [state, { updateKey }] = useLocalStorageContext()\n  let isDarkMode = state[DARK_MODE]\n  const toggleDarkMode = useCallback(\n    (value) => {\n      updateKey(DARK_MODE, value === false || value === true ? value : !isDarkMode)\n    },\n    [updateKey, isDarkMode]\n  )\n  return [isDarkMode, toggleDarkMode]\n}\n\nexport function usePathDismissed(path) {\n  const [state, { updateKey }] = useLocalStorageContext()\n  const pathDismissed = state?.[DISMISSED_PATHS]?.[path]\n  function dismiss() {\n    let newPaths = state?.[DISMISSED_PATHS]\n    newPaths[path] = true\n    updateKey(DISMISSED_PATHS, newPaths)\n  }\n\n  return [pathDismissed, dismiss]\n}\n\nexport function useSavedAccounts() {\n  const [state, { updateKey }] = useLocalStorageContext()\n  const savedAccounts = state?.[SAVED_ACCOUNTS]\n\n  const addAccount = useCallback(\n    (account) => {\n      updateKey(SAVED_ACCOUNTS, [...(savedAccounts ?? []), account])\n    },\n    [savedAccounts, updateKey]\n  )\n\n  const removeAccount = useCallback(\n    (account) => {\n      let index = savedAccounts?.indexOf(account) ?? -1\n      if (index > -1) {\n        updateKey(SAVED_ACCOUNTS, [\n          ...savedAccounts.slice(0, index),\n          ...savedAccounts.slice(index + 1, savedAccounts.length),\n        ])\n      }\n    },\n    [savedAccounts, updateKey]\n  )\n\n  return [savedAccounts, addAccount, removeAccount]\n}\n\nexport function useSavedPairs() {\n  const [state, { updateKey }] = useLocalStorageContext()\n  const savedPairs = state?.[SAVED_PAIRS]\n\n  function addPair(address, token0Address, token1Address, token0Symbol, token1Symbol) {\n    let newList = state?.[SAVED_PAIRS]\n    newList[address] = {\n      address,\n      token0Address,\n      token1Address,\n      token0Symbol,\n      token1Symbol,\n    }\n    updateKey(SAVED_PAIRS, newList)\n  }\n\n  function removePair(address) {\n    let newList = state?.[SAVED_PAIRS]\n    newList[address] = null\n    updateKey(SAVED_PAIRS, newList)\n  }\n\n  return [savedPairs, addPair, removePair]\n}\n\nexport function useSavedTokens() {\n  const [state, { updateKey }] = useLocalStorageContext()\n  const savedTokens = state?.[SAVED_TOKENS]\n\n  function addToken(address, symbol) {\n    let newList = state?.[SAVED_TOKENS]\n    newList[address] = {\n      symbol,\n    }\n    updateKey(SAVED_TOKENS, newList)\n  }\n\n  function removeToken(address) {\n    let newList = state?.[SAVED_TOKENS]\n    newList[address] = null\n    updateKey(SAVED_TOKENS, newList)\n  }\n\n  return [savedTokens, addToken, removeToken]\n}\n"]},"metadata":{},"sourceType":"module"}